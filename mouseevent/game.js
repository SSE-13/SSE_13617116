var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var human = new render.DisplayObjectContainer();
var head = new render.Bitmap();
var trunk = new render.Bitmap();
var left_arm = new render.Bitmap();
var right_arm = new render.Bitmap();
var left_leg = new render.Bitmap();
var right_leg = new render.Bitmap();
head.source = "head.png";
trunk.source = "trunk.png";
left_arm.source = "left_arm.png";
right_arm.source = "right_arm.png";
left_leg.source = "left_leg.png";
right_leg.source = "right_leg.png";
head.x = -180;
head.y = -60;
head.lx = 170;
head.ly = 60;
trunk.x = 0;
trunk.y = 150;
left_arm.x = -20;
left_arm.y = 160;
right_arm.x = 20;
right_arm.y = 160;
left_leg.x = -45;
left_leg.y = 250;
left_leg.lx = 100;
left_leg.ly = 70;
right_leg.x = 20;
right_leg.y = 250;
humanContainer.addChild(human);
human.addChild(head);
human.addChild(trunk);
human.addChild(left_arm);
human.addChild(right_arm);
human.addChild(left_leg);
human.addChild(right_leg);
var renderCore = new render.RenderCore();
renderCore.start(humanContainer, ["head.png", "trunk.png", "left_arm.png", "right_arm.png", "left_leg.png", "right_leg.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.vx = 5;
        this.vy = 0;
        this.speed = 1;
        this.radius = Math.PI;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        this.x += this.vx * duringTime;
        this.y = this.vy * duringTime;
        this.rotation += this.radius / 2 * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
body.vx = 5;
body.y = 200;
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var LegClicked = false;
var headHitTest = function (localPoint, displayObject) {
    // alert (`点击位置为${localPoint.x},${localPoint.y}`);
    console.log(localPoint);
    if (localPoint.x > displayObject.lx && localPoint.x < displayObject.lx + 60 && localPoint.y > displayObject.ly && localPoint.y <= displayObject.ly + 90) {
        return true;
    }
    return false;
};
var legHitTest = function (localPoint, displayObject) {
    console.log(localPoint);
    if (localPoint.x > displayObject.lx - 130 && localPoint.x <= displayObject.lx && localPoint.y > 0 && localPoint.y <= displayObject.ly) {
        return true;
    }
    return false;
};
var headOnClick = function () {
    if (LegClicked) {
        body.vx = 5;
        body.radius = Math.PI / 2;
        LegClicked = false;
    }
    else {
        body.vx *= -1;
        body.radius *= -1;
        body.speed *= -1;
    }
};
var legOnClick = function () {
    body.vx = 0;
    body.radius = 0;
    body.rotation = 0;
    LegClicked = true;
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(left_leg, legHitTest, legOnClick);
eventCore.register(right_leg, legHitTest, legOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFDaEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDcEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDekIsS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDM0IsUUFBUSxDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUM7QUFDakMsU0FBUyxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFDbkMsUUFBUSxDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUM7QUFDakMsU0FBUyxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFDbkMsSUFBSSxDQUFDLENBQUMsR0FBRSxDQUFDLEdBQUcsQ0FBQztBQUNiLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztBQUNkLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQ2IsS0FBSyxDQUFDLENBQUMsR0FBRyxD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